<div class="page-header"><h1>AJAX Example</h1></div>

<p>Test AJAX / JSON / JSONP quering from PhoneGap, using <a href="http://www.jsontest.com/">JSON Test</a> service.</p>

<p>
    
    <a id="ipButton" class="btn btn-inverse" href="#"><i class="icon-search icon-white"></i> IP Address</a>
    
    <a id="timeButton" class="btn" href="#"><i class="icon-time"></i> Time</a>
    
    <a id="md5Button" class="btn btn-primary" href="#"><i class="icon-random"></i> MD5 Hash</a>

</p>

<p>More information, resources and examples:</p>

<ul>

    <li><a href="http://samcroft.co.uk/2011/updated-loading-data-in-phonegap-using-jquery-1-5/">Loading external data into PhoneGap app</a>,</li>
    
    <li><a href="http://samcroft.co.uk/2012/posting-data-from-a-phonegap-app-to-a-server-using-jquery/">Posting data from a PhoneGap app to a server</a>,</li>
    
    <li><a href="http://www.jsontest.com/">Simple testing for JSON-based applications</a>,</li>
    
    <li><a href="http://stackoverflow.com/questions/3543513/how-to-parse-jsonp-data-returned-from-remote-server">How to parse JSONP data from remote server</a>.</li>

</ul>



<div class="page-header"><h1>Digital Clock</h1></div>

<p>Simplified version of pure CSS 3 / HTML 5 digital clock from <a href="http://tutorialzine.com/2013/06/digital-clock/">Tutorialzine</a>.</p>

    <div id="clock" class="light">
        <div class="display">
            <!--<div class="weekdays"></div>
            <div class="ampm"></div>
            <div class="alarm"></div>-->
            <div class="digits"></div>
        </div>
    </div>

<p></p>

<p>I only rewrote time part to drop <code>moment.js</code> library need and fixed some CSS to fit into this app.</p>

<div class="page-header"><h1>TB Carousel</h1></div>

<div class="bs-docs-example" style="max-width: 800px">
    
    <div id="myCarousel" class="carousel slide">

        <ol class="carousel-indicators">

            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>

            <li data-target="#myCarousel" data-slide-to="1" class=""></li>

            <li data-target="#myCarousel" data-slide-to="2" class=""></li>
            
            <li data-target="#myCarousel" data-slide-to="3" class=""></li>
            
            <li data-target="#myCarousel" data-slide-to="4" class=""></li>
            
            <li data-target="#myCarousel" data-slide-to="5" class=""></li>
            
            <li data-target="#myCarousel" data-slide-to="6" class=""></li>

        </ol>

        <div class="carousel-inner">

            <div class="item active">

                <img src="images/nature01.jpg" alt="">

                <div class="carousel-caption">

                    <h4>First Thumbnail label</h4>

                    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                </div>

            </div>

            <div class="item">

                <img src="images/nature02.jpg" alt="">

                <div class="carousel-caption">

                    <h4>Second Thumbnail label</h4>

                    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                </div>

            </div>

            <div class="item">

                <img src="images/nature03.jpg" alt="">

                <div class="carousel-caption">

                    <h4>Third Thumbnail label</h4>

                    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                </div>

            </div>

            <div class="item">

                <img src="images/nature04.jpg" alt="">

                <div class="carousel-caption">

                    <h4>Fourth Thumbnail label</h4>

                    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                </div>

            </div>

            <div class="item">

                <img src="images/nature05.jpg" alt="">

                <div class="carousel-caption">

                    <h4>Fifth Thumbnail label</h4>

                    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                </div>

            </div>

            <div class="item">

                <img src="images/nature06.jpg" alt="">

                <div class="carousel-caption">

                    <h4>Sixth Thumbnail label</h4>

                    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                </div>

            </div>

            <div class="item">

                <img src="images/nature07.jpg" alt="">

                <div class="carousel-caption">

                    <h4>Seventh Thumbnail label</h4>

                    <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>

                </div>

            </div>

        </div>

        <a class="left carousel-control" href="#myCarousel" data-slide="prev">‹</a>

        <a class="right carousel-control" href="#myCarousel" data-slide="next">›</a>

    </div>
    
</div>

<script type="text/javascript">
/*<![CDATA[*/
    jQuery(function($)
    {
        function connectionOrInternetError()
        {
            apprise("There was an error loading data!<br /><br />Either you're not connected to the Internet or server didn't respond...", {'textOk':'Got that!'});
            
            return false;
        }
        
        /**
         * AJAX Examples
         */
        $('body').on('click', '#ipButton', function()
        {
            if(!isConnected()) connectionOrInternetError();
            
            $.ajax
            ({
                type : "GET",
                dataType : "jsonp",
                url : 'http://ip.jsontest.com/',
                data : {},
                success: function(data)
                {
                    apprise('Your IP Address is: <code>' + data.ip + '</code>.', {'textOk':'Great, thanks!'});
                },
                error: connectionOrInternetError
            });
        });
        
        $('body').on('click', '#timeButton', function()
        {
            if(!isConnected()) connectionOrInternetError();
            
            $.ajax
            ({
                type : "GET",
                dataType : "jsonp",
                url : 'http://date.jsontest.com/',
                data : {},
                success: function(data)
                {
                    apprise('Current date is: <code>' + data.date + '</code>.<br />Current time (UTC) is: <code>' + data.time + '</code><br /><br /><code>' + data.milliseconds_since_epoch + ' milliseconds</code> has past since Unix Epoch.', {});
                },
                error: connectionOrInternetError
            });
        });
        
        $('body').on('click', '#md5Button', function()
        {
            if(!isConnected()) connectionOrInternetError();
            
            apprise('Enter ANY text', {'input':true, 'textOk':'Hash it!', 'textCancel':'No, thanks...'}, function(r)
            {
                if(typeof(r) === 'string')
                {
                    $.ajax
                    ({
                        type : "GET",
                        dataType : "jsonp",
                        url : 'http://md5.jsontest.com/?text=' + r,
                        data : {},
                        success: function(data)
                        {
                            apprise('MD5 hash of <kbd>' + data.original + '</kbd> is <kbd>' + data.md5 + '</kbd>.', {});
                        },
                        error: connectionOrInternetError
                    });
                }
            });
        });
        
        /**
         * Clock
         */
        // Cache some selectors
        var clock = $('#clock'),
            ampm = clock.find('.ampm');

        // Map digits to their names (this will be an array)
        var digit_to_name = 'zero one two three four five six seven eight nine'.split(' ');

        // This object will hold the digit elements
        var digits = {};

        // Positions for the hours, minutes, and seconds
        var positions = [
            'h1', 'h2', ':', 'm1', 'm2', ':', 's1', 's2'
        ];

        // Generate the digits with the needed markup,
        // and add them to the clock

        var digit_holder = clock.find('.digits');

        $.each(positions, function(){

            if(this == ':'){
                digit_holder.append('<div class="dots">');
            }
            else{

                var pos = $('<div>');

                for(var i=1; i<8; i++){
                    pos.append('<span class="d' + i + '">');
                }

                // Set the digits as key:value pairs in the digits object
                digits[this] = pos;

                // Add the digit elements to the page
                digit_holder.append(pos);
            }

        });

        // Add the weekday names

        var weekday_names = 'MON TUE WED THU FRI SAT SUN'.split(' '),
            weekday_holder = clock.find('.weekdays');

        $.each(weekday_names, function(){
            weekday_holder.append('<span>' + this + '</span>');
        });

        var weekdays = clock.find('.weekdays span');


        // Run a timer every second and update the clock

        (function update_time(){

            //Fixed by me to not use moment.js library for such simple purpose...
            var
                time = new Date(),
                h = time.getHours(),
                hh = (h > 12) ? h - 12 : h,
                hh = (hh < 10) ? '0' + hh : hh,
                m = time.getMinutes(),
                mm = (m < 10) ? '0' + m : m,
                s = time.getSeconds(),
                ss = (s < 10) ? '0' + s : s,
                d = time.getDay(),
                A = (h > 12) ? 'PM' : 'AM',
                now = hh + '' + mm + '' + ss + '' + d + A;

            digits.h1.attr('class', digit_to_name[now[0]]);
            digits.h2.attr('class', digit_to_name[now[1]]);
            digits.m1.attr('class', digit_to_name[now[2]]);
            digits.m2.attr('class', digit_to_name[now[3]]);
            digits.s1.attr('class', digit_to_name[now[4]]);
            digits.s2.attr('class', digit_to_name[now[5]]);

            // The library returns Sunday as the first day of the week.
            // Stupid, I know. Lets shift all the days one position down, 
            // and make Sunday last

            var dow = now[6];
            dow--;

            // Sunday!
            if(dow < 0){
                // Make it last
                dow = 6;
            }

            // Mark the active day of the week
            weekdays.removeClass('active').eq(dow).addClass('active');

            // Set the am/pm text:
            ampm.text(now[7]+now[8]);

            // Schedule this function to be run again in 1 sec
            setTimeout(update_time, 1000);

        })();
    });
/*]]>*/
</script>